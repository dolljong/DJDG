;*********************************************
; Program : COORD2
;           Coord Marking
;           Yi Suk-Jong
;           96/5/28
;*********************************************
; 촥킨쌹챹 옷절찌 킨쫚
; x=12.345
; y=24.456
;*********************************************
(defun c:coord2()

  (defun SETERR(s)
    (if (/= s "Function cancelled")
        (princ (strcat "\nError: " s))
    ); of If
    (setq *error* oer seterr nil)
    (princ)
  ); of SETERR
  (setq oer *error* *error* seterr)

  (setq ts (* (getvar "DIMTXT") (GETVAR "DIMSCALE")))       ;dimension text콜쐑

  (setq pt1 (getpoint "Pick First Point:"))
  (setq pt2 (getpoint pt1 "Pick Second Point:"))
  (setq px (car pt1))
  (setq py (cadr pt1))
  ;****** real to string
  (setq pxt (strcat "X=" (rtos px 2 (getvar "luprec"))))    ;x촥킨쌹
  (setq pyt (strcat "Y=" (rtos py 2 (getvar "luprec"))))    ;y촥킨쌹
  (command "dim1" "leader" pt1 pt2 "" pxt)
  (setq txtpnt (cdr (assoc 10 (entget (entlast)))))         ;text育초
  (setq txtpnt1 (list (car txtpnt)
                      (- (cadr txtpnt) (* 1.5 ts)) 0.0))            ;y촥킨 育초
  (if (< (car pt2) (car pt1)) 
    (setq algn "MR")
    (setq algn "ML")
  )
  (command "TEXT" algn txtpnt1 ts "0.0" pyt)                ;y촥킨쌹 쒐

  (setq *error* oer seterr nil)
  (princ)

);;; End of program COORD

